{
  "meta": {
    "project": "Disaster Management AI Chatbot",
    "date": "2025-09-26",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Disaster Management AI Chatbot is a comprehensive web-based platform designed to provide real-time guidance, emergency resources, and AI-powered assistance for disaster preparedness and response. It integrates an advanced OpenAI-powered chatbot for personalized disaster management advice, interactive emergency tools, and offline capabilities to ensure continuous support during crises.",
  "core_goals": [
    "Provide real-time, location-aware disaster preparedness and response guidance.",
    "Deliver AI-powered conversational assistance tailored to multiple disaster types.",
    "Ensure application availability with offline mock responses during backend downtime.",
    "Offer multi-platform accessible interfaces including a standalone chatbot popup.",
    "Enable emergency resource location, volunteer coordination, and recovery support.",
    "Support multilingual and accessibility features for inclusive disaster management.",
    "Facilitate rapid deployment and configuration for seamless production use."
  ],
  "key_features": [
    "AI Chatbot API with OpenAI GPT-5 integration for real-time, contextual disaster guidance and conversation history support.",
    "Frontend disaster management interface featuring emergency checklists, live updates, crowdsourced reports, emergency contacts, and survival planning.",
    "Standalone chatbot popup for embedded or independent chat access with fallback to smart mock responses.",
    "Robust offline fallback via client-side mock API delivering intelligent disaster response without backend connectivity.",
    "MongoDB-backed user and bot message history storage to track interactions with timestamps.",
    "Multi-environment configuration handling for development and production, including automatic endpoint switching.",
    "Voice activation and translation tools for accessibility and multilingual support.",
    "Simulation mode with drills for emergency preparedness practice.",
    "AI-powered hazard prediction, AR navigation, and live aerial/satellite data overlays."
  ],
  "user_flow_summary": [
    "Users open the main disaster management interface to access real-time alerts, emergency contacts, and preparedness checklists.",
    "Users engage with the AI chatbot via the integrated chat widget or standalone popup to receive personalized disaster guidance.",
    "Users can submit crowdsourced reports and damage assessments through interactive forms.",
    "Users configure profiles and enable voice or AR features for enhanced interaction during emergencies.",
    "When backend AI service is available, chat queries are sent to the OpenAI-powered API; otherwise, smart mock responses are provided offline automatically.",
    "Users access multilingual translations and emergency phrases to communicate effectively during crises.",
    "Volunteers and aid coordinators connect with organizations and manage response efforts through the platform tools."
  ],
  "validation_criteria": [
    "Chatbot API returns contextually accurate and timely disaster management advice based on user input and location data.",
    "Frontend interface displays real-time emergency data, alerts, and resource statuses consistently and responsively.",
    "Offline mock API fallback activates when backend is unreachable, delivering relevant disaster responses.",
    "All environment configurations switch correctly between development and production modes without errors.",
    "Accessibility features including voice navigation, screen reader compatibility, and multilingual support function correctly.",
    "Deployment guides enable quick and error-free backend and frontend deployments on recommended platforms (Railway, Render, Netlify).",
    "User message histories are stored and retrieved in MongoDB with accurate timestamps and data integrity."
  ],
  "code_summary": {
    "tech_stack": [
      "JavaScript",
      "Node.js",
      "Express.js",
      "HTML5",
      "CSS3",
      "MongoDB",
      "Mongoose",
      "OpenAI API",
      "Zod",
      "CORS",
      "Helmet"
    ],
    "features": [
      {
        "name": "AI Chatbot API",
        "description": "OpenAI-powered chatbot for disaster management guidance with conversation history and location awareness",
        "files": [
          "backend/routes/chatbot.route.js",
          "backend/controllers/chatbot.message.ai.js"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Disaster Management Chatbot API",
            "version": "1.0.0"
          },
          "paths": {
            "/bot/v1/message": {
              "post": {
                "summary": "Send message to AI chatbot",
                "requestBody": {
                  "required": true,
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "text": {
                            "type": "string",
                            "minLength": 1,
                            "maxLength": 2000
                          },
                          "history": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "role": {
                                  "type": "string"
                                },
                                "content": {
                                  "type": "string"
                                },
                                "sender": {
                                  "type": "string"
                                },
                                "text": {
                                  "type": "string"
                                }
                              }
                            },
                            "maxItems": 20
                          },
                          "location": {
                            "type": "object",
                            "properties": {
                              "latitude": {
                                "type": "number"
                              },
                              "longitude": {
                                "type": "number"
                              },
                              "accuracy": {
                                "type": "number"
                              },
                              "address": {
                                "type": "string"
                              },
                              "city": {
                                "type": "string"
                              },
                              "country": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "required": [
                          "text"
                        ]
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "AI chatbot response",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "response": {
                              "type": "string"
                            },
                            "timestamp": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Frontend Disaster Management Interface",
        "description": "Main web interface for disaster preparedness, emergency resources, and AI chatbot integration",
        "files": [
          "index.html",
          "script.js",
          "styles.css",
          "config.js"
        ],
        "api_doc": {
          "description": "Static frontend with disaster management features including emergency contacts, offline guides, and chatbot integration"
        }
      },
      {
        "name": "Chatbot Popup Interface",
        "description": "Standalone chatbot interface that can be embedded or used independently",
        "files": [
          "chatbot-popup.html",
          "chatbot-popup.js"
        ],
        "api_doc": {
          "description": "Standalone chatbot UI with real-time messaging and fallback to mock responses"
        }
      },
      {
        "name": "Mock API Fallback",
        "description": "Offline disaster management responses when backend is unavailable",
        "files": [
          "mock-api.js"
        ],
        "api_doc": {
          "description": "Client-side fallback API providing intelligent disaster management responses without backend dependency"
        }
      },
      {
        "name": "User Data Model",
        "description": "MongoDB schema for storing user messages and chat history",
        "files": [
          "backend/models/user.model.js",
          "backend/models/bot.model.js"
        ],
        "api_doc": {
          "description": "Mongoose models for user interactions and bot responses with timestamp tracking"
        }
      },
      {
        "name": "Environment Configuration",
        "description": "Multi-environment configuration supporting development and production deployments",
        "files": [
          "config.js",
          "backend/.env.example"
        ],
        "api_doc": {
          "description": "Frontend config automatically detects localhost vs production and switches API endpoints accordingly"
        }
      }
    ]
  }
}
